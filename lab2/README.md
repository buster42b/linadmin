# ДЗ 2 по технологиям разработки ПО
## Задание
Надо было написать bash-скрипт, анализирующий данный нам лог-файл с таким ТЗ:
1. Принимать путь до анализируемого файла как параметр и завершаться, отдавая сообщение об ошибке с кодом 10, если параметр не задан;
2. Анализировать доступность файла по заданному пути и завершаться, отдавая сообщение об ошибке с кодом 20, если файл не существует;
3. Формировать в stdout аналитической отчёт с момента последнего(!!!) запуска скрипта, который содержит:
- обработанный скриптом временной диапазон;
- топ-15 IP-адресов, с которых посещался сайт в виде пар "IP-адрес и количество запросов";
- топ-15 ресурсов сайта, которые запрашивались клиентами (например, /downloads/product_1) в виде пар "ресурс и количество запросов";
- список всех кодов возврата с указанием их количества в виде пар "код возврата и количество";
- список кодов возврата 4xx и 5xx (только ошибки) с указанием их количества в виде пар "код возврата и количество".
4. Содержать защиту от мультизапуска;
5. Автоматически завершаться, если в теле скрипта будет обнаружена ошибка при его выполнении;
6. Сопровождаться документацией (комментарии в теле скрипта или отдельный README). Не обязательно, но попробуйте использовать внутри скрипта trap, sed и функции.

## Инструкция
1. Либо создаём такие же файлы, либо скачиваем репозиторий: `git clone https://github.com/MedianMedusa/hw2-TRPO.git` и переходим в созданную папку;
2. Делаем скрипт исполняемым: `chmod +x logparser.sh`;
3. Запускаем скрипт с передачей ему пути до лога: `./logparser.sh log`;


![](https://github.com/MedianMedusa/hw2-TRPO/blob/master/%D1%81%D0%BA%D1%80%D0%B8%D0%BD%20%D0%BF%D0%B0%D1%80%D1%81%D0%B5%D1%80%D0%B0.png?raw=true)
> Готово!
